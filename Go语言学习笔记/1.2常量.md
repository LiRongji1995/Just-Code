
# 📘 第1章 类型

## 1.2 常量（Constants）

Go 支持定义**常量（constant）**，用于表示在编译期间即可确定的值。常量具有如下特性：

---

### ✅ 基本语法

使用 `const` 关键字定义：

```go
const Pi = 3.14
const World = "世界"
```

可一次定义多个常量：
```go
const (
    A = 1
    B = 2
    C = 3
)
```

---

### 🔄 常量自动递增：`iota`

Go 使用内建的 `iota` 标识符实现**枚举式递增常量**：

```go
const (
    Sunday = iota  // 0
    Monday         // 1
    Tuesday        // 2
)
```

多个 `iota` 声明块相互独立，每个 `const` 块的 `iota` 都从 `0` 开始。

`iota` 可以和表达式结合：

```go
const (
    A = 1 << iota  // 1 << 0 = 1
    B              // 1 << 1 = 2
    C              // 1 << 2 = 4
)
```

---

### ⚠️ 常量限制

- **不可使用非常量表达式赋值**（如运行时变量、函数调用等）；
- **仅能使用基本类型：** `bool`, `string`, `number`；
- **不能使用 `:=` 简写语法定义常量**，只能用 `const`；
- 可作为数组长度、`case` 标签、枚举等语法中要求常量的位置使用。

---

### 🧠 补充说明与技巧

| 技巧 | 说明 |
|------|------|
| 类型推导 | 常量可以不显式写类型，Go 会根据上下文自动推导 |
| 枚举定义 | `iota` 是实现状态码、日志级别、角色权限等枚举的最佳实践 |
| 隐式继承表达式 | 在 `const` 块中省略表达式时，默认与上一行相同，例如：<br>`const (A = 1; B; C)`，则 `B=1`，`C=1` |

---

### 🧪 示例：定义 HTTP 状态码

```go
const (
    StatusOK       = 200
    StatusNotFound = 404
    StatusError    = 500
)
```

或者使用 `iota` 创建自增错误代码：

```go
const (
    ErrNone = iota
    ErrTimeout
    ErrDisconnected
)
```
